(function(f){function b(){this.regional=[];this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:false};
this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1};
f.extend(this._defaults,this.regional[""]);this._serverSyncs=[];function m(q){var p=(q<1000000000000?(p=performance.now?(performance.now()+performance.timing.navigationStart):Date.now()):q||new Date().getTime());
if(p-n>=1000){i._updateTargets();n=p;}o(m);}var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;
var n=0;if(!o||f.noRequestAnimationFrame){f.noRequestAnimationFrame=null;setInterval(function(){i._updateTargets();},980);}else{n=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||new Date().getTime();
o(m);}}var c=0;var g=1;var d=2;var a=3;var l=4;var h=5;var e=6;f.extend(b.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(m){this._resetExtraLabels(this._defaults,m);
f.extend(this._defaults,m||{});},UTCDate:function(u,t,s,q,p,o,n,m){if(typeof t=="object"&&t.constructor==Date){m=t.getMilliseconds();n=t.getSeconds();o=t.getMinutes();
p=t.getHours();q=t.getDate();s=t.getMonth();t=t.getFullYear();}var r=new Date();r.setUTCFullYear(t);r.setUTCDate(1);r.setUTCMonth(s||0);r.setUTCDate(q||1);
r.setUTCHours(p||0);r.setUTCMinutes((o||0)-(Math.abs(u)<30?u*60:u));r.setUTCSeconds(n||0);r.setUTCMilliseconds(m||0);return r;},periodsToSeconds:function(m){return m[0]*31557600+m[1]*2629800+m[2]*604800+m[3]*86400+m[4]*3600+m[5]*60+m[6];
},_attachPlugin:function(n,m){n=f(n);if(n.hasClass(this.markerClassName)){return;}var o={options:f.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};
n.addClass(this.markerClassName).data(this.propertyName,o);this._optionPlugin(n,m);},_addTarget:function(m){if(!this._hasTarget(m)){this._timerTargets.push(m);
}},_hasTarget:function(m){return(f.inArray(m,this._timerTargets)>-1);},_removeTarget:function(m){this._timerTargets=f.map(this._timerTargets,function(n){return(n==m?null:n);
});},_updateTargets:function(){for(var m=this._timerTargets.length-1;m>=0;m--){this._updateCountdown(this._timerTargets[m]);}},_optionPlugin:function(n,m,r){n=f(n);
var q=n.data(this.propertyName);if(!m||(typeof m=="string"&&r==null)){var p=m;m=(q||{}).options;return(m&&p?m[p]:m);}if(!n.hasClass(this.markerClassName)){return;
}m=m||{};if(typeof m=="string"){var p=m;m={};m[p]=r;}this._resetExtraLabels(q.options,m);f.extend(q.options,m);this._adjustSettings(n,q);var o=new Date();
if((q._since&&q._since<o)||(q._until&&q._until>o)){this._addTarget(n[0]);}this._updateCountdown(n,q);},_updateCountdown:function(n,m){var r=f(n);m=m||r.data(this.propertyName);
if(!m){return;}r.html(this._generateHTML(m)).toggleClass(this._rtlClass,m.options.isRTL);if(f.isFunction(m.options.onTick)){var q=m._hold!="lap"?m._periods:this._calculatePeriods(m,m._show,m.options.significant,new Date());
if(m.options.tickInterval==1||this.periodsToSeconds(q)%m.options.tickInterval==0){m.options.onTick.apply(n,[q]);}}var p=m._hold!="pause"&&(m._since?m._now.getTime()<m._since.getTime():m._now.getTime()>=m._until.getTime());
if(p&&!m._expiring){m._expiring=true;if(this._hasTarget(n)||m.options.alwaysExpire){this._removeTarget(n);if(f.isFunction(m.options.onExpiry)){m.options.onExpiry.apply(n,[]);
}if(m.options.expiryText){var o=m.options.layout;m.options.layout=m.options.expiryText;this._updateCountdown(n,m);m.options.layout=o;}if(m.options.expiryUrl){window.location=m.options.expiryUrl;
}}m._expiring=false;}else{if(m._hold=="pause"){this._removeTarget(n);}}r.data(this.propertyName,m);},_resetExtraLabels:function(o,m){var q=false;for(var p in m){if(p!="whichLabels"&&p.match(/[Ll]abels/)){q=true;
break;}}if(q){for(var p in o){if(p.match(/[Ll]abels[02-9]/)){o[p]=null;}}}},_adjustSettings:function(n,m){var t;var s=0;var r=null;for(var o=0;o<this._serverSyncs.length;
o++){if(this._serverSyncs[o][0]==m.options.serverSync){r=this._serverSyncs[o][1];break;}}if(r!=null){s=(m.options.serverSync?r:0);t=new Date();}else{var q=(f.isFunction(m.options.serverSync)?m.options.serverSync.apply(n,[]):null);
t=new Date();s=(q?t.getTime()-q.getTime():0);this._serverSyncs.push([m.options.serverSync,s]);}var p=m.options.timezone;p=(p==null?-t.getTimezoneOffset():p);
m._since=m.options.since;if(m._since!=null){m._since=this.UTCDate(p,this._determineTime(m._since,null));if(m._since&&s){m._since.setMilliseconds(m._since.getMilliseconds()+s);
}}m._until=this.UTCDate(p,this._determineTime(m.options.until,t));if(s){m._until.setMilliseconds(m._until.getMilliseconds()+s);}m._show=this._determineShow(m);
},_destroyPlugin:function(m){m=f(m);if(!m.hasClass(this.markerClassName)){return;}this._removeTarget(m[0]);m.removeClass(this.markerClassName).empty().removeData(this.propertyName);
},_pausePlugin:function(m){this._hold(m,"pause");},_lapPlugin:function(m){this._hold(m,"lap");},_resumePlugin:function(m){this._hold(m,null);},_hold:function(n,m){var p=f.data(n,this.propertyName);
if(p){if(p._hold=="pause"&&!m){p._periods=p._savePeriods;var o=(p._since?"-":"+");p[p._since?"_since":"_until"]=this._determineTime(o+p._periods[0]+"y"+o+p._periods[1]+"o"+o+p._periods[2]+"w"+o+p._periods[3]+"d"+o+p._periods[4]+"h"+o+p._periods[5]+"m"+o+p._periods[6]+"s");
this._addTarget(n);}p._hold=m;p._savePeriods=(m=="pause"?p._periods:null);f.data(n,this.propertyName,p);this._updateCountdown(n,p);}},_getTimesPlugin:function(n){var m=f.data(n,this.propertyName);
return(!m?null:(!m._hold?m._periods:this._calculatePeriods(m,m._show,m.options.significant,new Date())));},_determineTime:function(r,q){var p=function(n){var m=new Date();
m.setTime(m.getTime()+n*1000);return m;};var t=function(A){A=A.toLowerCase();var z=new Date();var y=z.getFullYear();var x=z.getMonth();var w=z.getDate();
var v=z.getHours();var u=z.getMinutes();var o=z.getSeconds();var n=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;var m=n.exec(A);while(m){switch(m[2]||"s"){case"s":o+=parseInt(m[1],10);
break;case"m":u+=parseInt(m[1],10);break;case"h":v+=parseInt(m[1],10);break;case"d":w+=parseInt(m[1],10);break;case"w":w+=parseInt(m[1],10)*7;break;case"o":x+=parseInt(m[1],10);
w=Math.min(w,i._getDaysInMonth(y,x));break;case"y":y+=parseInt(m[1],10);w=Math.min(w,i._getDaysInMonth(y,x));break;}m=n.exec(A);}return new Date(y,x,w,v,u,o,0);
};var s=(r==null?q:(typeof r=="string"?t(r):(typeof r=="number"?p(r):r)));if(s){s.setMilliseconds(0);}return s;},_getDaysInMonth:function(n,m){return 32-new Date(n,m,32).getDate();
},_normalLabels:function(m){return m;},_generateHTML:function(z){var y=this;z._periods=(z._hold?z._periods:this._calculatePeriods(z,z._show,z.options.significant,new Date()));
var x=false;var w=0;var v=z.options.significant;var u=f.extend({},z._show);for(var t=c;t<=e;t++){x|=(z._show[t]=="?"&&z._periods[t]>0);u[t]=(z._show[t]=="?"&&!x?null:z._show[t]);
w+=(u[t]?1:0);v-=(z._periods[t]>0?1:0);}var s=[false,false,false,false,false,false,false];for(var t=e;t>=c;t--){if(z._show[t]){if(z._periods[t]){s[t]=true;
}else{s[t]=v>0;v--;}}}var r=(z.options.compact?z.options.compactLabels:z.options.labels);var q=z.options.whichLabels||this._normalLabels;var p=function(n){var m=z.options["compactLabels"+q(z._periods[n])];
return(u[n]?y._translateDigits(z,z._periods[n])+(m?m[n]:r[n])+" ":"");};var o=function(n){var m=z.options["labels"+q(z._periods[n])];return((!z.options.significant&&u[n])||(z.options.significant&&s[n])?'<span class="'+i._sectionClass+'"><span class="'+i._amountClass+'">'+y._translateDigits(z,z._periods[n])+"</span><br/>"+(m?m[n]:r[n])+"</span>":"");
};return(z.options.layout?this._buildLayout(z,u,z.options.layout,z.options.compact,z.options.significant,s):((z.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(z._hold?" "+this._holdingClass:"")+'">'+p(c)+p(g)+p(d)+p(a)+(u[l]?this._minDigits(z,z._periods[l],2):"")+(u[h]?(u[l]?z.options.timeSeparator:"")+this._minDigits(z,z._periods[h],2):"")+(u[e]?(u[l]||u[h]?z.options.timeSeparator:"")+this._minDigits(z,z._periods[e],2):""):'<span class="'+this._rowClass+" "+this._showClass+(z.options.significant||w)+(z._hold?" "+this._holdingClass:"")+'">'+o(c)+o(g)+o(d)+o(a)+o(l)+o(h)+o(e))+"</span>"+(z.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+z.options.description+"</span>":"")));
},_buildLayout:function(F,E,D,C,B,A){var y=F.options[C?"compactLabels":"labels"];var x=F.options.whichLabels||this._normalLabels;var w=function(m){return(F.options[(C?"compactLabels":"labels")+x(F._periods[m])]||y)[m];
};var v=function(o,m){return F.options.digits[Math.floor(o/m)%10];};var u={desc:F.options.description,sep:F.options.timeSeparator,yl:w(c),yn:this._minDigits(F,F._periods[c],1),ynn:this._minDigits(F,F._periods[c],2),ynnn:this._minDigits(F,F._periods[c],3),y1:v(F._periods[c],1),y10:v(F._periods[c],10),y100:v(F._periods[c],100),y1000:v(F._periods[c],1000),ol:w(g),on:this._minDigits(F,F._periods[g],1),onn:this._minDigits(F,F._periods[g],2),onnn:this._minDigits(F,F._periods[g],3),o1:v(F._periods[g],1),o10:v(F._periods[g],10),o100:v(F._periods[g],100),o1000:v(F._periods[g],1000),wl:w(d),wn:this._minDigits(F,F._periods[d],1),wnn:this._minDigits(F,F._periods[d],2),wnnn:this._minDigits(F,F._periods[d],3),w1:v(F._periods[d],1),w10:v(F._periods[d],10),w100:v(F._periods[d],100),w1000:v(F._periods[d],1000),dl:w(a),dn:this._minDigits(F,F._periods[a],1),dnn:this._minDigits(F,F._periods[a],2),dnnn:this._minDigits(F,F._periods[a],3),d1:v(F._periods[a],1),d10:v(F._periods[a],10),d100:v(F._periods[a],100),d1000:v(F._periods[a],1000),hl:w(l),hn:this._minDigits(F,F._periods[l],1),hnn:this._minDigits(F,F._periods[l],2),hnnn:this._minDigits(F,F._periods[l],3),h1:v(F._periods[l],1),h10:v(F._periods[l],10),h100:v(F._periods[l],100),h1000:v(F._periods[l],1000),ml:w(h),mn:this._minDigits(F,F._periods[h],1),mnn:this._minDigits(F,F._periods[h],2),mnnn:this._minDigits(F,F._periods[h],3),m1:v(F._periods[h],1),m10:v(F._periods[h],10),m100:v(F._periods[h],100),m1000:v(F._periods[h],1000),sl:w(e),sn:this._minDigits(F,F._periods[e],1),snn:this._minDigits(F,F._periods[e],2),snnn:this._minDigits(F,F._periods[e],3),s1:v(F._periods[e],1),s10:v(F._periods[e],10),s100:v(F._periods[e],100),s1000:v(F._periods[e],1000)};
var t=D;for(var z=c;z<=e;z++){var s="yowdhms".charAt(z);var n=new RegExp("\\{"+s+"<\\}(.*)\\{"+s+">\\}","g");t=t.replace(n,((!B&&E[z])||(B&&A[z])?"$1":""));
}f.each(u,function(p,o){var m=new RegExp("\\{"+p+"\\}","g");t=t.replace(m,o);});return t;},_minDigits:function(n,m,o){m=""+m;if(m.length>=o){return this._translateDigits(n,m);
}m="0000000000"+m;return this._translateDigits(n,m.substr(m.length-o));},_translateDigits:function(m,n){return(""+n).replace(/[0-9]/g,function(o){return m.options.digits[o];
});},_determineShow:function(n){var m=n.options.format;var o=[];o[c]=(m.match("y")?"?":(m.match("Y")?"!":null));o[g]=(m.match("o")?"?":(m.match("O")?"!":null));
o[d]=(m.match("w")?"?":(m.match("W")?"!":null));o[a]=(m.match("d")?"?":(m.match("D")?"!":null));o[l]=(m.match("h")?"?":(m.match("H")?"!":null));o[h]=(m.match("m")?"?":(m.match("M")?"!":null));
o[e]=(m.match("s")?"?":(m.match("S")?"!":null));return o;},_calculatePeriods:function(N,M,L,K){N._now=K;N._now.setMilliseconds(0);var J=new Date(N._now.getTime());
if(N._since){if(K.getTime()<N._since.getTime()){N._now=K=J;}else{K=N._since;}}else{J.setTime(N._until.getTime());if(K.getTime()>N._until.getTime()){N._now=K=J;
}}var I=[0,0,0,0,0,0,0];if(M[c]||M[g]){var H=i._getDaysInMonth(K.getFullYear(),K.getMonth());var G=i._getDaysInMonth(J.getFullYear(),J.getMonth());var F=(J.getDate()==K.getDate()||(J.getDate()>=Math.min(H,G)&&K.getDate()>=Math.min(H,G)));
var E=function(m){return(m.getHours()*60+m.getMinutes())*60+m.getSeconds();};var D=Math.max(0,(J.getFullYear()-K.getFullYear())*12+J.getMonth()-K.getMonth()+((J.getDate()<K.getDate()&&!F)||(F&&E(J)<E(K))?-1:0));
I[c]=(M[c]?Math.floor(D/12):0);I[g]=(M[g]?D-I[c]*12:0);K=new Date(K.getTime());var C=(K.getDate()==H);var B=i._getDaysInMonth(K.getFullYear()+I[c],K.getMonth()+I[g]);
if(K.getDate()>B){K.setDate(B);}K.setFullYear(K.getFullYear()+I[c]);K.setMonth(K.getMonth()+I[g]);if(C){K.setDate(B);}}var A=Math.floor((J.getTime()-K.getTime())/1000);
var z=function(n,m){I[n]=(M[n]?Math.floor(A/m):0);A-=I[n]*m;};z(d,604800);z(a,86400);z(l,3600);z(h,60);z(e,1);if(A>0&&!N._since){var y=[1,12,4.3482,7,24,60,60];
var x=e;var w=1;for(var v=e;v>=c;v--){if(M[v]){if(I[x]>=w){I[x]=0;A=1;}if(A>0){I[v]++;A=0;x=v;w=1;}}w*=y[v];}}if(L){for(var v=c;v<=e;v++){if(L&&I[v]){L--;
}else{if(!L){I[v]=0;}}}}return I;}});var j=["getTimes"];function k(n,m){if(n=="option"&&(m.length==0||(m.length==1&&typeof m[0]=="string"))){return true;
}return f.inArray(n,j)>-1;}f.fn.countdown=function(n){var m=Array.prototype.slice.call(arguments,1);if(k(n,m)){return i["_"+n+"Plugin"].apply(i,[this[0]].concat(m));
}return this.each(function(){if(typeof n=="string"){if(!i["_"+n+"Plugin"]){throw"Unknown command: "+n;}i["_"+n+"Plugin"].apply(i,[this].concat(m));}else{i._attachPlugin(this,n||{});
}});};var i=f.countdown=new b();})(jQuery);